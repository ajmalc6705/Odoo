<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="prescription_report_pdff">
    <t t-call="web.html_container">
		<t t-call="web.external_layout">
			<div class="page">
				<div class="text-center">
					<div style="color:#009688;">
						 <h2><b>Prescription</b></h2>
					 </div>
					<table style="width:100%;">
						<tr>
							<th style="width:60%;"></th>
							<th style="width:40%;"></th>
						</tr>
						<tr>
							<td>
								<span>
									<div  style="color:#009688;">
										<strong>Patient : </strong>
									</div>
									<p t-if="patient" t-esc="patient"/>
								</span>
							</td>
							<td>
								<div  style="color:#009688;">
									<strong>Doctor : </strong>
								</div>
								Dr.<span t-if="doctor" t-esc="doctor.name.name"/><br/>
								<t t-if="speciality"><span t-esc="speciality"/><br/> </t>
								<t t-if="license_code">Licence No. <span t-if="license_code" t-esc="license_code"/></t>
							</td>
						</tr>
					</table>
					<br/>
					<table style="width:100%;">
						<tr>
							<th style="width:20%;"></th>
							<th style="width:40%;"></th>
							<th style="width:20%;"></th>
							<th style="width:20%;"></th>
						</tr>
						<tr>
							<td>
								<div  style="color:#009688;"><strong>Appointment : </strong></div>
							</td>
							<td>
								<p t-esc="appt"/>
							</td>
							<td>
								<div  style="color:#009688;"><strong>Date : </strong></div>
							</td>
							<td>
								<p t-if="date" t-esc="date"/>
							</td>
						</tr>
						<tr>
							<td>
								<div  style="color:#009688;"><strong>File No : </strong></div>
							</td>
							<td>
								<p t-if="file_no" t-esc="file_no"/>
							</td>
							<td>
								<div  style="color:#009688;"><strong>QID : </strong></div>
							</td>
							<td>
								<p t-if="qid" t-esc="qid"/>
							</td>
						</tr>
						<tr>
							<td>
								<div  style="color:#009688;"><strong>Telephone : </strong></div>
							</td>
							<td>
								<p t-if="mobile" t-esc="mobile"/>
							</td>
							<td>
								<div  style="color:#009688;"><strong>Age : </strong></div>
							</td>
							<td>
								<p t-if="age" t-esc="age"/>
							</td>
						</tr>
						<tr>
							<td>
								<div  style="color:#009688;"><strong>Nationality : </strong></div>
							</td>
							<td>
								<p t-if="nationality_id" t-esc="nationality_id"/>
							</td>
							<td>
								<div  style="color:#009688;"><strong>Weight : </strong></div>
							</td>
							<td>
								<p t-if="weight" t-esc="weight"/>
							</td>
						</tr>
					</table>

					<br/>
					<table class="table table-bordered table-striped"  style="width: 100%">
						<thead>
							<th style='color:white;background-color: #009688;text-align:center;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;' width='7%'>Sl No.</th>
							<th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;" width='25%'>Medicine</th>
							<th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;" width='20%'>Frequency</th>
							<th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;" width='8%'>Duration</th>
							<th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;" width='20%'>Description</th>
						</thead>
						<tbody>
							<t t-set="i" t-value="1" />
							<tr t-foreach="pres_lines" t-as="l">
								<td style='text-align:center;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'><span t-esc="i"/><t t-set="i" t-value="i+1"/></td>
								<td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"><span t-if="l['medicine_id']" t-esc="l['medicine_id']"/></td>
								<td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"><span t-if="l['common_dosage']" t-esc="l['common_dosage']"/></td>
								<td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"><span t-if="l['duration']" t-esc="l['duration']"/></td>
								<td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"><span t-if="l['note']" t-esc="l['note']"/></td>
							</tr>
						</tbody>
					</table>
					<br/>
					<table style="width:100%;">
						<tr>
							<th style="width:50%;"></th>
							<th style="width:50%;"></th>
						</tr>
						<tr>
							<td style="text-align:left;">
								<div ><strong>Doctor Seal</strong></div><br/>
								<img t-if="doctor.stamp" t-att-src="'data:image/png;base64,%s' % to_text(doctor.stamp)" style="max-height: 130px;"/>
							</td>
							<td  style="text-align:right;">
								<div ><strong>Doctor Signature</strong></div><br/>
								<img t-if="doctor.signature" t-att-src="'data:image/png;base64,%s' % to_text(doctor.signature)" style="max-height: 130px;"/>
							</td>
						</tr>
					</table>
				</div>
		</div>
		</t>
		</t>
	</template>

    <report
        id="prescription_report2"
        string="Prescriptions"
        model="medical.appointment"
        report_type="qweb-pdf"
		file="pragtech_dental_management.prescription_report_pdff"
        name="pragtech_dental_management.prescription_report_pdff"
		menu="False"
    />

</odoo>