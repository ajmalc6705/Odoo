<odoo>
    <data>
        <record id="seq_appt_treatment_number" model="ir.sequence">
            <field name="name">Appt Treatment Number</field>
            <field name="code">appt_treatment_number_seq</field>
            <field name="prefix">T</field>
            <field name="padding">3</field>
            <field name="company_id" eval="False"/>
        </record>

        <record model="ir.ui.view" id="medical_teeth_treatment_tree_view">
            <field name="name">Patient Treatments</field>
            <field name="model">medical.teeth.treatment</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string='Patient Treatments' create="false">
                    <field name="tree_control" invisible="1"/>
                    <field name="appt_id"/>
                    <field name="patient_id"/>
                    <field name="create_date" invisible="1"/>
                    <field name="treatment_plan_number"/>
                    <field name="initial"/>
                    <field name="child"/>
                    <field name="description"
                           attrs="{'readonly': [('state', 'in', ('condition','in_progress','invoiced','completed'))]}"/>
                    <field name="tooth_line_order" invisible="1"/>
                    <field name="teeth_code_rel" widget="many2many_tags" string="Teeth"
                           attrs="{'required': [('tree_control', '=', 1)], 'sort_by': 'tooth_line_order'}"/>
                    <field name="teeth_id" invisible="1"/>
                    <field name="diagnosis_id"/>
                    <field name="diagnosis_description"/>
                    <field name="dentist" invisible="1"/>
                    <field name="detail_description" invisible="1"/>
                    <field name="actual_amount" invisible="1"/>
                    <field name="amount_edit" invisible="1"/>
                    <field name="unit_price" attrs="{'readonly':[('amount_edit','=',False)]}" force_save="1"/>

                    <field name="discount_fixed_percent"
                           groups="pragtech_dental_management.group_enable_discount_in_payment_lines"/>
                    <field name="discount" attrs="{'readonly':[('discount_fixed_percent','!=','Percent')]}"
                           groups="pragtech_dental_management.group_enable_discount_in_payment_lines"/>
                    <field name="discount_value" attrs="{'readonly':[('discount_fixed_percent','!=','Fixed')]}"
                           groups="pragtech_dental_management.group_enable_discount_in_payment_lines"/>
                    <field name="amount" readonly="1" force_save="1"/>
                    <field name="state"/>
                    <field name="amt_paid_by_patient" readonly="1" invisible="1"/>
                    <field name="amt_to_be_patient" readonly="1" invisible="1"/>
                </tree>
            </field>
        </record>

        <record id="medical_teeth_treatment_search_view" model="ir.ui.view">
            <field name="name">medical.teeth.treatment</field>
            <field name="model">medical.teeth.treatment</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Treatments">
                    <separator orientation="vertical"/>
                    <field name="treatment_plan_number"/>
                    <field name="appt_id"/>
                    <field name="patient_id"/>
                    <group expand="1" string="Group By">
                        <filter string="Treatment Number" name="group_by_treatment_plan_number" domain="[]"
                                context="{'group_by':'treatment_plan_number'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_medical_teeth_treatment">
            <field name="name">Patient Treatments</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">medical.teeth.treatment</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="medical_teeth_treatment_tree_view"/>
        </record>

        <menuitem action="action_medical_teeth_treatment" name="Patient Treatments" id="medical_teeth_treatment_submenu"
                  parent="pragtech_dental_management.medical_appointment_menu" sequence="4"
                  groups="pragtech_dental_management.group_dental_mng_menu,pragtech_dental_management.group_access_patients_menu"/>

    </data>
</odoo>