<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="form_consent_details" model="ir.ui.view">
        <field name="name">consent.details form</field>
        <field name="model">consent.details</field>
        <field name="arch" type="xml">
            <form string="Consent details">
                <header>
                    <button name="create_report_template" string="Create report template" type="object" class="oe_highlight" attrs="{'invisible': [('report_template_id', '!=', False)]}"/>
                    <button name="modify_report_template" string="Modify report template" type="object" attrs="{'invisible': [('report_template_id', '=', False)]}"/>
                    <button name="create_blank_report_template" string="Create Blank report template" type="object" class="oe_highlight" attrs="{'invisible': [('report_blank_template_id', '!=', False)]}"/>
                    <button name="modify_blank_report_template" string="Modify Blank report template" type="object" attrs="{'invisible': [('report_blank_template_id', '=', False)]}"/>
                    <button name="print_blank_report" string="Print blank report" class="oe_highlight" type="object" attrs="{'invisible': [('report_blank_template_id', '=', False)]}"/>
                 </header>
                 <sheet>
                     <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button"
                                    options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                     <group>
                        <group>
                            <field name="name" />
                            <field name="blank_report_language"/>
                            <field name="consent_category_id"/>
                        </group>
                        <group>
                            <field name="sequence" />
                            <field name="report_template_id" attrs="{'invisible': [('report_template_id', '=', False)]}"/>
                            <field name="report_blank_template_id" attrs="{'invisible': [('report_blank_template_id', '=', False)]}"/>
                        	<field name="hide_fields_in_print"/>
                        </group>
                    </group>
                    <group colspan="4">
                        <field name="heading_english"/>
                        <field name="heading_arabic"/>
                    </group>
                    <group colspan="4">
                        <field name="field_ids" widget="many2many_tags" options="{'no_create': True, 'no_create_edit':True}"/>
                    </group>
                    <group colspan="4">
                        <field name="content_english"/>
                        <field name="content_arabic"/>
                        <field name="signature_field_ids" widget="many2many_tags" options="{'no_create': True, 'no_create_edit':True}"/>
                    </group>
                     <field name="image_1" widget="image" options='{"size": [1000, 1000]}'/>
                     <field name="image_2" widget="image" options='{"size": [1000, 1000]}'/>
                 </sheet>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="consent_details_tree">
        <field name="name">Consents tree</field>
        <field name="model">consent.details</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="consent_category_id"/>
                <button name="open_consent_wizard" type="object" string="Create Consent"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="consent_details_kanban">
        <field name="name">Consents kanban</field>
        <field name="model">consent.details</field>
        <field name="arch" type="xml">
                    <kanban   >
                    <field name="id"/>
                    <field name="name"/>
                    <field name="sequence"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click">
                                <div class="oe_kanban_vignette">
                                    <div class="oe_attachment">
                                        <div class="oe_name">
                                            <center><b><field name="name"/></b></center>
                                            <center><field name="consent_category_id"/></center>
                                            <br/>
                                        </div>
                                        <div >
                                            <center>
                                                <button name="open_consent_wizard" style="color:green;"
                                                        type="object">Create Form</button>
                                            </center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
        </field>
    </record>

    <record id="consent_details_search" model="ir.ui.view">
        <field name="name">Consents search</field>
        <field name="model">consent.details</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search string="Search Consents">
                <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                <field name="name"/>
                <group expand="0" string="Group By..." colspan="11" col="11">
                        <filter string="Category" name="consent_category_id" context="{'group_by':'consent_category_id'}"/>
                    </group>
            </search>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_consents_details">
        <field name="name">Clinical Forms</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">consent.details</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="context">{}</field>
    </record>

    <record model="ir.actions.act_window" id="action_consents_details_category">
        <field name="name">Clinical Form Category</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">consent.details.category</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>
    
    <record model="ir.actions.act_window" id="pragtech_dental_management.action_consent_consent">
            <field name="name">Clinical Forms</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">consent.consent</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_consent_management" name="Clinical Forms" sequence="10" groups="pragtech_dental_management.group_dental_mng_menu,base.group_system"/>
              <!--groups="pragtech_dental_management.group_dental_mng_menu"/>-->
        <menuitem id="menu_root_consents" name="Forms" parent="menu_consent_management" sequence="2"/>
        <menuitem id="menu_consent_details" name="Clinical Forms" parent="menu_root_consents"
                      action="action_consents_details" sequence="1" />
        <menuitem id="menu_consent_detail_category" name="Clinical Form Category" parent="menu_root_consents" action="action_consents_details_category" sequence="2" />
		
	<menuitem action="pragtech_dental_management.action_consent_consent" id="pragtech_dental_management.menu_consents" name="Clinical Forms"
                  parent="pragtech_dental_management.medical_conf_menu" sequence="2"/>
</odoo>