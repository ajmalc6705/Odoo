<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="sales_report_pdf">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                    <div class="page">
                        <div class="text-center">
                            <div style="color:#009688;">
                                <h2>
                                    <b>SALES REPORT</b>
                                </h2>
                            </div>
                            <center>
                                <table name="master" width="90%">
                                    <colgroup>
                                        <col width='25%'/>
                                        <col width='25%'/>
                                        <col width='25%'/>
                                        <col width='25%'/>
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody class="patient_invoice_tbody">
                                        <tr>
                                            <td style="color:#009688;">
                                                <strong>Period From</strong>
                                            </td>
                                            <td>:
                                                <span t-esc="period_start" t-options='{"widget": "date"}'/>
                                            </td>
                                            <td style="color:#009688;">
                                                <strong>Based On</strong>
                                            </td>
                                            <td>:
                                                <span t-esc="date_type"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#009688;">
                                                <strong>Period To</strong>
                                            </td>
                                            <td>:
                                                <span t-esc="period_stop" t-options='{"widget": "date"}'/>
                                            </td>
                                            <td style="color:#009688;">
                                                <strong>Report Date</strong>
                                            </td>
                                            <td>:
                                                <span t-esc="datetime.datetime.now()"
                                                      t-options='{"widget": "datetime"}'/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#009688;">
                                                <strong>Doctor</strong>
                                            </td>
                                            <td>:
                                                <t t-if="doctor">
                                                    <span t-esc="doctor[1]"/>
                                                </t>
                                                <t t-else="">
                                                    All
                                                </t>
                                            </td>
                                            <td style="color:#009688;">
                                                <strong>Insurance Company</strong>
                                            </td>
                                            <td>:
                                                <t t-if="insurance_company">
                                                    <span t-esc="insurance_company[1]"/>
                                                </t>
                                                <t t-else="">
                                                    All
                                                </t>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#009688;">
                                                <strong>Patient</strong>
                                            </td>
                                            <td>:
                                                <t t-if="patient">
                                                    <span t-esc="patient[1]"/>
                                                </t>
                                                <t t-else="">
                                                    All
                                                </t>
                                            </td>
                                            <td style="color:#009688;">
                                                <t t-if="date_type == 'Payment Date'">
                                                    <strong>Payment Mode</strong>
                                                </t>
                                            </td>
                                            <td>
                                                <t t-if="date_type == 'Payment Date'">
                                                    <t t-if="payment_mode">
                                                        :
                                                        <span t-esc="payment_mode[1]"/>
                                                    </t>
                                                    <t t-else="">
                                                        : All
                                                    </t>
                                                </t>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="color:#009688;">
                                                <strong>Cashier</strong>
                                            </td>
                                            <td>:
                                                <t t-if="cashier">
                                                    <span t-esc="cashier[1]"/>
                                                </t>
                                                <t t-else="">
                                                    All
                                                </t>
                                            </td>
                                            <td groups="base.group_multi_company" style="color:#009688;">
                                                <strong>Company</strong>
                                            </td>
                                            <td groups="base.group_multi_company">
                                                <t t-if="company_id">
                                                    :
                                                    <span t-esc="company_id[1]"/>
                                                </t>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <br/>
                                <t t-if="date_type == 'Invoice Date'">

                                    <table class="table table-striped" name="account_invoices">
                                        <colgroup>
                                            <col width='4%'/>
                                            <col width='8%'/>
                                            <col width='8%'/>
                                            <col width='8%'/>
                                            <col width='8%'/>
                                            <col width='9%'/>
                                            <col width='9%'/>
                                            <col width='9%'/>
                                            <col width='9%'/>
                                            <col width='9%'/>
                                            <col width='7%'/>
                                            <col width='7%'/>
                                            <col width='7%'/>

                                        </colgroup>
                                        <thead style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                            <tr>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2">Sl No.
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Bill Ref
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not patient" rowspan="2">Patient
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not doctor" rowspan="2">Doctor
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not insurance_company" rowspan="2">
                                                    Insurance Company
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Bill Amount
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Insurance Company Payment
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Treatment Group Discount
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Clinic Discount
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Total Amount
                                                </th>
                                                <t t-foreach="jrnl_data" t-as="j">
                                                    <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                        class="text-center" rowspan="2">
                                                        Pay By
                                                        <span t-esc="jrnl_data[j]['name']"/>
                                                    </th>
                                                </t>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Due Amount
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody class="invoice_tbody">
                                            <t t-set="i" t-value="1"/>
                                            <t t-set="initial_sum" t-value="0"/>
                                            <t t-set="due_sum" t-value="0"/>
                                            <t t-set="insurance_sum" t-value="0"/>
                                            <t t-set="treatment_sum" t-value="0"/>
                                            <t t-set="disc_sum" t-value="0"/>
                                            <t t-set="amount_sum" t-value="0"/>
                                            <tr t-foreach="orders" t-as="l"
                                                style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                <t t-if="l['type'] == 'out_refund'">
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="i"/>
                                                        <t t-set="i" t-value="i+1"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['number']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not patient">
                                                        <span t-esc="l['patient']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not doctor">
                                                        <span t-esc="l['doctor']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not insurance_company">
                                                        <span t-esc="l['insurance_company']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['initial_amt']"/>
                                                        <t t-set="initial_sum" t-value="initial_sum+l['initial_amt']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['insurance_total']"/>
                                                        <t t-set="insurance_sum"
                                                           t-value="insurance_sum+l['insurance_total']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['treatment_group_disc_total']"/>
                                                        <t t-set="treatment_sum"
                                                           t-value="treatment_sum+l['treatment_group_disc_total']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['disc_total']"/>
                                                        <t t-set="disc_sum" t-value="disc_sum+l['disc_total']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['amount_total']"/>
                                                        <t t-set="amount_sum" t-value="amount_sum+l['amount_total']"/>
                                                    </td>
                                                    <t t-foreach="jrnl_data" t-as="j">
                                                        <td style="color:red;border-left: 1px solid black;border-right: 1px solid black"
                                                            class="text-center" rowspan="1">
                                                            <span t-esc="'%.2f'% l['jrnls'][j]"/>
                                                        </td>
                                                    </t>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['due']"/>
                                                        <t t-set="due_sum" t-value="due_sum+l['due']"/>
                                                    </td>
                                                </t>
                                                <t t-else="">
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="i"/>
                                                        <t t-set="i" t-value="i+1"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['number']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not patient">
                                                        <span t-esc="l['patient']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not doctor">
                                                        <span t-esc="l['doctor']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not insurance_company">
                                                        <span t-esc="l['insurance_company']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['initial_amt']"/>
                                                        <t t-set="initial_sum" t-value="initial_sum+l['initial_amt']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['insurance_total']"/>
                                                        <t t-set="insurance_sum"
                                                           t-value="insurance_sum+l['insurance_total']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['treatment_group_disc_total']"/>
                                                        <t t-set="treatment_sum"
                                                           t-value="treatment_sum+l['treatment_group_disc_total']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['disc_total']"/>
                                                        <t t-set="disc_sum" t-value="disc_sum+l['disc_total']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['amount_total']"/>
                                                        <t t-set="amount_sum" t-value="amount_sum+l['amount_total']"/>
                                                    </td>
                                                    <t t-foreach="jrnl_data" t-as="j">
                                                        <td style="border-left: 1px solid black;border-right: 1px solid black"
                                                            class="text-center" rowspan="1">
                                                            <span t-esc="'%.2f'% l['jrnls'][j]"/>
                                                        </td>
                                                    </t>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="'%.2f'% l['due']"/>
                                                        <t t-set="due_sum" t-value="due_sum+l['due']"/>
                                                    </td>
                                                </t>
                                            </tr>
                                            <tr style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    t-if="not patient"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    t-if="not doctor"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    t-if="not insurance_company"></td>
                                                <td style="border-right: 1px solid black;border-top: 1px solid black;">
                                                    <strong>Total :</strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>
                                                        <span t-esc="'%.2f'% initial_sum"/>
                                                    </strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>
                                                        <span t-esc="'%.2f'% insurance_sum"/>
                                                    </strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>
                                                        <span t-esc="'%.2f'% treatment_sum"/>
                                                    </strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>
                                                        <span t-esc="'%.2f'% disc_sum"/>
                                                    </strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>
                                                        <span t-esc="'%.2f'% amount_sum"/>
                                                    </strong>
                                                </td>
                                                <t t-foreach="jrnl_data" t-as="j">
                                                    <td style="color:red;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                        class="text-center" rowspan="1">
                                                        <strong>
                                                            <span t-esc="'%.2f'% jrnl_data[j]['sum']"/>
                                                        </strong>
                                                    </td>
                                                </t>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>
                                                        <span t-esc="'%.2f'% due_sum"/>
                                                    </strong>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <br/>
                                    <h3>Payment mode Summary</h3>
                                    <table class="table table-bordered table-striped" style="width: 70%">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'>
                                                    Name
                                                </th>
                                                <th style='text-align:left;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'>
                                                    Amount
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-set="amount_sum" t-value="0"/>
                                            <t t-foreach="jrnl_data" t-as="j">
                                                <tr>
                                                    <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                        <span t-esc="jrnl_data[j]['name']"/>
                                                    </td>
                                                    <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                        <t t-esc="'%.2f'% jrnl_data[j]['sum']"/>
                                                        <t t-set="amount_sum"
                                                           t-value="amount_sum+jrnl_data[j]['sum']"/>
                                                    </td>
                                                </tr>
                                            </t>
                                            <tr t-if="patient_type not in ('Self Pay')">
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    Insurance
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <t t-esc="'%.2f'% insurance_sum"/>
                                                    <t t-set="amount_sum"
                                                       t-value="amount_sum+insurance_sum"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    Total :
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <t t-esc="'%.2f'% amount_sum"/>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <h3 t-if="patient_type not in ('Self Pay')">Insurance Company Summary</h3>
                                    <table class="table table-bordered table-striped" style="width: 70%" t-if="patient_type not in ('Self Pay')">
                                        <t t-set="sum_patient_share" t-value="0"/>
                                        <t t-set="sum_insurance_share" t-value="0"/>
                                        <t t-set="sum_total_share" t-value="0"/>
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'>
                                                    Company Name
                                                </th>
                                                <th style='text-align:left;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'>
                                                    Patient Share
                                                </th>
                                                <th style='text-align:left;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'>
                                                    Insurance Share
                                                </th>
                                                <th style='text-align:left;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;'>
                                                    Total
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr t-foreach="insurance_company_dict" t-as="insurance_com">
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <span t-esc="insurance_com_value['name']"/>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <t t-esc="'%.2f'% insurance_com_value['patient_share']"/>
                                                    <t t-set="sum_patient_share" t-value="sum_patient_share+insurance_com_value['patient_share']"/>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <t t-esc="'%.2f'% insurance_com_value['insurance_share']"/>
                                                    <t t-set="sum_insurance_share" t-value="sum_insurance_share+insurance_com_value['insurance_share']"/>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <t t-esc="'%.2f'% insurance_com_value['total']"/>
                                                    <t t-set="sum_total_share" t-value="sum_total_share+insurance_com_value['total']"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong>Total :</strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong><t t-esc="'%.2f'% sum_patient_share"/></strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong><t t-esc="'%.2f'% sum_insurance_share"/></strong>
                                                </td>
                                                <td style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                    <strong><t t-esc="'%.2f'% sum_total_share"/></strong>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </t>
                                <t t-else="">
                                    <table class="table table-striped" name="account_payments">
                                        <colgroup>
                                            <col width='3%'/>
                                            <col width='10%'/>
                                            <col width='8%'/>
                                            <col width='8%'/>
                                            <col width='12%'/>
                                            <col width='10%'/>
                                            <col width='10%'/>
                                            <col width='12%'/>
                                        </colgroup>
                                        <thead style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                            <tr>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2">Sl No.
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Bill Ref
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Bill Date
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" rowspan="2">Payment Date
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not patient" rowspan="2">Patient
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not doctor" rowspan="2">Doctor
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not cashier" rowspan="2">Cashier
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not insurance_company" rowspan="2">
                                                    Insurance Company
                                                </th>
                                                <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                    class="text-center" t-if="not insurance_company" rowspan="2">
                                                    Payment Amount
                                                </th>
                                                <t t-foreach="jrnl_data" t-as="j">
                                                    <th style="color:white;background-color: #009688;border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;"
                                                        class="text-center" rowspan="2">
                                                        Pay By
                                                        <span t-esc="jrnl_data[j]['name']"/>
                                                    </th>
                                                </t>
                                            </tr>
                                        </thead>
                                        <tbody class="invoice_tbody">
                                            <t t-set="i" t-value="1"/>
                                            <t t-set="total" t-value="0"/>
                                            <t t-set="insurance_total" t-value="0"/>
                                            <tr t-foreach="orders" t-as="l"
                                                style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                <t t-if="l['type'] == 'out_refund'">
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="i"/>
                                                        <t t-set="i" t-value="i+1"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['number']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['bill_date']" t-options='{"widget": "date"}'/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['payment_date']" t-options='{"widget": "date"}'/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not patient">
                                                        <span t-esc="l['patient']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not doctor">
                                                        <span t-esc="l['doctor']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not cashier">
                                                        <span t-esc="l['cashier']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not insurance_company">
                                                        <span t-esc="l['insurance_company']"/>
                                                    </td>
                                                    <td style="color: red;border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not insurance_company">
                                                        <span t-esc="l['insurance_total']"/>
                                                        <t t-set="insurance_total" t-value="insurance_total+l['insurance_total']"/>
                                                    </td>
                                                    <t t-foreach="jrnl_data" t-as="j">
                                                        <td style="color:red;border-left: 1px solid black;border-right: 1px solid black"
                                                            class="text-center">
                                                            <t t-if="l['journal'] == j">
                                                                <span t-esc="'%.2f'% l['amount']"/>
                                                            </t>
                                                        </td>
                                                    </t>
                                                </t>
                                                <t t-else="">
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="i"/>
                                                        <t t-set="i" t-value="i+1"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['number']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['bill_date']" t-options='{"widget": "date"}'/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;">
                                                        <span t-esc="l['payment_date']" t-options='{"widget": "date"}'/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not patient">
                                                        <span t-esc="l['patient']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not doctor">
                                                        <span t-esc="l['doctor']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not cashier">
                                                        <span t-esc="l['cashier']"/>
                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not insurance_company">
                                                        <span t-esc="l['insurance_company']"/>

                                                    </td>
                                                    <td style="border-left: 1px solid black;border-right: 1px solid black;"
                                                        t-if="not insurance_company">
                                                        <span t-esc="l['insurance_total']"/>
                                                        <t t-set="insurance_total" t-value="insurance_total+l['insurance_total']"/>                                                    </td>
                                                    <t t-foreach="jrnl_data" t-as="j">
                                                        <td style="border-left: 1px solid black;border-right: 1px solid black"
                                                            class="text-center">
                                                            <t t-if="l['journal'] == j">
                                                                <span t-esc="'%.2f'% l['amount']"/>
                                                            </t>
                                                        </td>
                                                    </t>
                                                </t>
                                            </tr>
                                            <tr style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"
                                                    t-if="not patient"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"
                                                    t-if="not doctor"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"
                                                    t-if="not cashier"></td>
                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;"
                                                    rowspan="2"
                                                    t-if="not insurance_company"></td>
                                                <td style="border-right: 1px solid black;border-top: 1px solid black;"
                                                    rowspan="2">
                                                    <h3>Total :</h3>
                                                </td>
                                                <td style="border-right: 1px solid black;border-top: 1px solid black;"
                                                    rowspan="2">
                                                    <h3><t t-esc="insurance_total"/> </h3>
                                                </td>
                                                <t t-foreach="jrnl_data" t-as="j">
                                                    <td style="border-top: 1px solid black;border-bottom:1px solid #000000;border-left: 1px solid black;border-right: 1px solid black"
                                                        class="text-center" rowspan="1">
                                                        <strong>
                                                            <span t-esc="'%.2f'% jrnl_data[j]['sum']"/>
                                                            <t t-set="total" t-value="total+jrnl_data[j]['sum']"/>
                                                        </strong>
                                                    </td>
                                                </t>
                                            </tr>
                                            <tr style="border-top: 1px solid black;border-left: 1px solid black;border-right: 1px solid black;border-bottom:1px solid #000000;">

                                                <td style="border-top: 1px solid black;border-bottom:1px solid #000000;border-left: 1px solid black;border-right: 1px solid black"
                                                    colspan="7" class="text-center">
                                                    <h4>
                                                        <strong>
                                                            <span t-esc="'%.2f'% total"/>
                                                        </strong>
                                                    </h4>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </t>

                            </center>
                        </div>
                    </div>
                </t>
            </t>
        </template>
    </data>
</odoo>